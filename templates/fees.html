{% extends 'index.html' %}

{% block title %}
    Fees
{% endblock %}


{% block styles %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/fees.css') }}">
{% endblock %}


{% block content %}
  
<div class="fees-container">

  <div class="fees-historic-plot-container mt-5 mb-5">
    {{ fees_historic_plot | safe }}
  </div>

  <div id="fees-general-container">
    <div class="table-container">
    <div class="table-responsive">
      <table class="table table-striped table-borderless table-sm table align-middle">
        <thead id="head-test">
          <tr>
            <th scope="col">
              <div class="th-container pl-3" id="th-first">
                #
              </div>
            </th>
            <th scope="col" id="table-name-column">
              <div class="th-container pl-3">
                Name
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                Category
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                Type
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                 Fees 24h
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                User Fees 24h
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                Protocol Revenue 24h
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                 Fees 7d
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3">
                 Fees 30d
              </div>
            </th>
            <th scope="col">
              <div class="th-container pl-3" id="th-last">
                Total All Time
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          {% for fee in fees %}
          <tr>
            <th scope="row" class="pl-4">
              {{ loop.index }}
            </th>
            <td class="pl-3">
              <a href="#" class="fee-link" data-name = "{{ fee.name }}">
                <img src="{{ fee.logo }}" alt="img of {{fee.displayName}}" id="coin-logo-table" class="d-inline img-fluid rounded-circle">
                <p class="font-weight-bold d-inline"> {{ fee.displayName }} </p>
              </a>
            </td>

              <td class="pl-3">{{ fee.protocolType }}</td>
              <td class="pl-3">{{ fee.category }}</td>
              <td class="">
                <p class="number d-inline"> 
                  {{ fee.total24h }}
                </p> 
                  <p class="pct-change d-inline ml-1">
                    {{ fee.change_1d }}
                  </p>
              </td>
              <td class="pl-3 number">{{ fee.dailyUserFees }}</td>
              <td class="pl-3 number">{{ fee.dailyProtocolRevenue }}</td>

              <td class="pl-3">
                <p class="number d-inline"> 
                  {{ fee.total7d }}
                </p>
                  <p class="pct-change d-inline ml-1">
                    {{ fee.change_7d }}
                  </p>
              </td>
              
              <td class="pl-3">
                <p class="number d-inline"> 
                  {{ fee.total30d }}
                </p>
                  <p class="pct-change d-inline ml-1">
                    {{ fee.change_30d }}
                </p>
              </td>

              <td class="number">{{ fee.totalAllTime }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
  


  <div class="row m-4">
    <div class="col-12">
        <div class="row mt-5">
            <div class="col-lg-6">
                <div class="row ml-5 mr-1">
                    <div class="mx-auto" id="section-plot">
                      {{ fees_by_type | safe }}

                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="row mr-5 ml-1">
                    <div class="mx-auto" id="section-plot">
                      {{ fees_by_category | safe }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    {% endblock %}


